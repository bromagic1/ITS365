<html>

<head>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js" ></script>

<script>

async function load() {
    const url = 'https://bromagic1.github.io/ITS365/ProjectModel/model.json';
    const model = await tf.loadLayersModel(url);
    return model;
};

function predict(model) {

    const userInput = document.getElementById('csvFile').value;
    const inputTensor = tf.tensor([[parseInt(userInput)]]);

    model.then(model => {
        let result = model.predict(inputTensor);
        alert("Predicted Stanley Cup Winner: " + result);
        
    });
};

const model = load();

</script>
</head>

<body>
<h3>  Stanley Cup Predictor  </h3>

<form id="myForm">
      <input type="file" id="csvFile" accept=".csv" />
    <br>
      <br />
      <br>
      <input type="submit" value="Submit" />
    <br>
   </form>
   <script>
      const myForm = document.getElementById("myForm");
      const csvFile = document.getElementById("csvFile");
      myForm.addEventListener("submit", function (e) {
         e.preventDefault();
         const input = csvFile.files[0];
         const reader = new FileReader();
         reader.onload = function (e) {
            const text = e.target.result;
            document.write(text);
         };
         reader.readAsText(input);
      });
   </script>

<button onclick="predict(model)">Predict</button>

</body>

</html>
